import com.caiqueluz.buildsrc.AppConfig
import com.caiqueluz.buildsrc.Dependencies
import com.caiqueluz.buildsrc.Plugins
import com.caiqueluz.buildsrc.Versions

apply plugin: Plugins.ANDROID_APPLICATION
apply plugin: Plugins.KOTLIN_ANDROID
apply plugin: Plugins.KAPT
apply plugin: Plugins.HILT

android {
    compileSdkVersion AppConfig.COMPILE_SDK
    buildToolsVersion AppConfig.BUILD_TOOLS

    defaultConfig {
        applicationId AppConfig.APPLICATION_ID
        minSdkVersion AppConfig.MIN_SDK
        targetSdkVersion AppConfig.TARGET_SDK
        versionCode AppConfig.VERSION_CODE
        versionName AppConfig.VERSION_NAME

        testInstrumentationRunner AppConfig.TEST_INSTRUMENTATION_RUNNER
    }

    buildTypes {
        all {
            buildConfigField "String", "BASE_URL", COINMARKETCAP_BASE_URL
            buildConfigField "String", "API_KEY", COINMARKETCAP_API_KEY
        }

        release {
            minifyEnabled false
            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'
        }
    }
    compileOptions {
        sourceCompatibility JavaVersion.VERSION_1_8
        targetCompatibility JavaVersion.VERSION_1_8
    }
    kotlinOptions {
        jvmTarget = Versions.Generic.JVM_TARGET
    }
    buildFeatures {
        viewBinding true
    }
    testOptions {
        unitTests {
            returnDefaultValues = true
        }
    }
}

dependencies {
    implementation Dependencies.Generic.kotlinStdLib

    implementation Dependencies.Library.Android.coreKtx
    implementation Dependencies.Library.Android.appCompat
    implementation Dependencies.Library.Android.material
    implementation Dependencies.Library.Android.constraintLayout
    implementation Dependencies.Library.Android.archCoreCommon
    implementation Dependencies.Library.Android.archCoreRuntime
    implementation Dependencies.Library.Android.hilt
    implementation Dependencies.Library.Android.fragmentKtx
    implementation Dependencies.Library.Android.viewPager2
    implementation Dependencies.Library.Android.lifecycleViewModel
    implementation Dependencies.Library.Android.lifecycleLiveData
    implementation Dependencies.Library.Android.lifecycleRuntime

    implementation Dependencies.Library.retrofit
    implementation Dependencies.Library.retrofitConverterGson
    implementation Dependencies.Library.gson
    implementation Dependencies.Library.okHttp
    implementation Dependencies.Library.okHttpLoggingInterceptor
    implementation Dependencies.Library.picasso

    testImplementation Dependencies.Test.junit
    testImplementation Dependencies.Test.mockitoCore
    testImplementation Dependencies.Test.mockitoKotlin
    testImplementation Dependencies.Test.coroutinesTest
    testImplementation Dependencies.Test.archCoreTesting

    androidTestImplementation Dependencies.Test.extJUnit
    androidTestImplementation Dependencies.Test.espressoCore
    androidTestImplementation Dependencies.Test.androidTestRunner

    kapt Dependencies.Generic.hiltAndroidCompiler
}
